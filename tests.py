# flake8: noqa
# pylint: disable=broad-exception-raised, raise-missing-from, too-many-arguments, redefined-outer-name
# pylance: disable=reportMissingImports, reportMissingModuleSource, reportGeneralTypeIssues
# type: ignore

import unittest

from currencies import CURRENCIES
from currency_formatter import CurrencyFormatter
from currency_parser import CurrencyParser

class TestCurrencyParser(CurrencyParser):
    def process_currencies(self, currencies):
        return currencies

class TestCurrencyParsing(unittest.TestCase):
    def setUp(self):
        self.parser = TestCurrencyParser()

    def test_all_cases(self):
        def test(text, expected):
            result = self.parser.find_currencies(text)
            print(f'Test "{text}" -> {result} (expected {expected}), {"Pass" if result == expected else "Fail"}')
            self.assertEqual(result, expected)

        test("100 Ğ´Ñ€Ğ°Ğ¼", [(100.0, "AMD", "100 Ğ´Ñ€Ğ°Ğ¼")])
        test("200 Ğ´Ñ€Ğ°Ğ¼Ğ°", [(200.0, "AMD", "200 Ğ´Ñ€Ğ°Ğ¼Ğ°")])
        test("300 Ğ´Ñ€Ğ°Ğ¼Ğ¾Ğ²", [(300.0, "AMD", "300 Ğ´Ñ€Ğ°Ğ¼Ğ¾Ğ²")])
        
        test("100 ÑˆĞµĞºĞµĞ»ĞµĞ¹", [(100.0, "ILS", "100 ÑˆĞµĞºĞµĞ»ĞµĞ¹")])
        test("200 ÑˆĞµĞºĞµĞ»ÑŒ", [(200.0, "ILS", "200 ÑˆĞµĞºĞµĞ»ÑŒ")])
        test("300 ÑˆĞµĞºĞµĞ»Ñ", [(300.0, "ILS", "300 ÑˆĞµĞºĞµĞ»Ñ")])
        test("400 ÑˆĞµĞº", [(400.0, "ILS", "400 ÑˆĞµĞº")])
        test("500 ÑˆĞ°Ñ…", [(500.0, "ILS", "500 ÑˆĞ°Ñ…")])
        test("600 ils", [(600.0, "ILS", "600 ils")])
        test("700â‚ª", [(700.0, "ILS", "700â‚ª")])
        test("700 â‚ª", [(700.0, "ILS", "700 â‚ª")])
        
        test("100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(100.0, "GBP", "100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("200 Ñ„ÑƒĞ½Ñ‚", [(200.0, "GBP", "200 Ñ„ÑƒĞ½Ñ‚")])
        test("300 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(300.0, "GBP", "300 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("400 Ğ¿Ğ°ÑƒĞ½Ğ´", [(400.0, "GBP", "400 Ğ¿Ğ°ÑƒĞ½Ğ´")])
        test("500 ĞºĞ²Ğ¸Ğ´Ğ¾Ğ²", [(500.0, "GBP", "500 ĞºĞ²Ğ¸Ğ´Ğ¾Ğ²")])
        test("500 pound", [(500.0, "GBP", "500 pound")])
        test("500 quid", [(500.0, "GBP", "500 quid")])
        test("600 gbp", [(600.0, "GBP", "600 gbp")])
        test("700Â£", [(700.0, "GBP", "700Â£")])
        test("Â£800", [(800.0, "GBP", "Â£800")])
        test("700 Â£", [(700.0, "GBP", "700 Â£")])
        test("Â£ 800", []) 
        test("1.2.3 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°", [(2.3, 'USD', '2.3 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°')]) 
        test("77 Ñ‚ÑƒĞ³Ñ€Ğ¸ĞºĞ¾Ğ²", [])
        test("7666777 kwd", [])
        test("100500 CAD Ğ²Ñ‹ÑˆĞ»Ğ¾", [(100500.0, 'CAD', '100500 CAD')])
        test("Ğ´Ğ²Ğ° Ñ Ğ¿Ğ¾Ğ»Ğ¾Ğ²Ğ¸Ğ½Ğ¾Ğ¹ Ğ±Ğ°ĞºÑĞ°", [])
        test("Ğ¿ÑÑ‚ÑŒ Ğ±Ğ°ĞºÑĞ¾Ğ²", [])
        test("three hundred bucks", [])
        

        test("100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("200 Ñ€ÑƒĞ±Ğ»ÑŒ", [(200.0, "RUB", "200 Ñ€ÑƒĞ±Ğ»ÑŒ")])
        test("300 Ñ€ÑƒĞ±Ğ»Ñ", [(300.0, "RUB", "300 Ñ€ÑƒĞ±Ğ»Ñ")])
        test("400 rub", [(400.0, "RUB", "400 rub")])
        test("500â‚½", [(500.0, "RUB", "500â‚½")])
        test("500 â‚½", [(500.0, "RUB", "500 â‚½")])
        test("500\â‚½", [])
        test("\500", [])
        test("500'â‚½", [])
        test("500,â‚½", [])
        test("500.â‚½", [])
        test("500;â‚½", [])
        test("500:â‚½", [])
        test("500â‚½$", [(500.0, "RUB", "500â‚½")])
        test("500$$", [(500.0, 'USD', '500$')])

        test("200 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€", [(200.0, "USD", "200 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€")])
        test("200 Ğ”Ğ¾Ğ»Ğ»Ğ°Ñ€", [(200.0, "USD", "200 Ğ”Ğ¾Ğ»Ğ»Ğ°Ñ€")])
        test("200 Ğ”Ğ¾Ğ»Ğ»Ğ°Ğ ", [(200.0, "USD", "200 Ğ”Ğ¾Ğ»Ğ»Ğ°Ğ ")])
        test("200 Ğ´Ğ¾Ğ›Ğ»Ğ°Ğ Ğ¾Ğ²", [(200.0, "USD", "200 Ğ´Ğ¾Ğ›Ğ»Ğ°Ğ Ğ¾Ğ²")])

        test("300 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°", [(300.0, "USD", "300 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°")])
        test("400 Ğ±Ğ°ĞºÑĞ¾Ğ²", [(400.0, "USD", "400 Ğ±Ğ°ĞºÑĞ¾Ğ²")])
        test("500 Ğ±Ğ°ĞºÑ", [(500.0, "USD", "500 Ğ±Ğ°ĞºÑ")])
        test("600 usd", [(600.0, "USD", "600 usd")])
        test("700$", [(700.0, "USD", "700$")])
        test("$800", [(800.0, "USD", "$800")])
        test("100 ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑĞ¾Ğ²", [(100000.0, 'USD', '100 ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑĞ¾Ğ²')])
        test("1 ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑ", [(1000.0, "USD", "1 ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑ")])
        test("ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑ", [(1000.0, "USD", "ĞºĞ¸Ğ»Ğ¾Ğ±Ğ°ĞºÑ")])
        
        test("100 ĞµĞ²Ñ€Ğ¾", [(100.0, "EUR", "100 ĞµĞ²Ñ€Ğ¾")])
        test("200 eur", [(200.0, "EUR", "200 eur")])
        test("300â‚¬", [(300.0, "EUR", "300â‚¬")])
        test("â‚¬400", [(400.0, "EUR", "â‚¬400")])
        test("1 ĞºĞ¸Ğ»Ğ¾ĞµĞ²Ñ€Ğ¾", [(1000.0, "EUR", "1 ĞºĞ¸Ğ»Ğ¾ĞµĞ²Ñ€Ğ¾")])
        test("ĞºĞ¸Ğ»Ğ¾ĞµĞ²Ñ€Ğ¾", [(1000.0, "EUR", "ĞºĞ¸Ğ»Ğ¾ĞµĞ²Ñ€Ğ¾")])
        
        test("100 Ğ¹ĞµĞ½", [(100.0, "JPY", "100 Ğ¹ĞµĞ½")])
        test("200 Ğ¹ĞµĞ½Ğ°", [(200.0, "JPY", "200 Ğ¹ĞµĞ½Ğ°")])
        test("300 Ğ¹ĞµĞ½", [(300.0, "JPY", "300 Ğ¹ĞµĞ½")])
        test("400 jpy", [(400.0, "JPY", "400 jpy")])
        test("500Â¥", [(500.0, "JPY", "500Â¥")])
        
        test("100 ÑĞ°Ğ½ĞµĞ¹", [(100.0, "CNY", "100 ÑĞ°Ğ½ĞµĞ¹")])
        test("200 ÑĞ°Ğ½ÑŒ", [(200.0, "CNY", "200 ÑĞ°Ğ½ÑŒ")])
        test("300 ÑĞ°Ğ½Ñ", [(300.0, "CNY", "300 ÑĞ°Ğ½Ñ")])
        test("400 cny", [(400.0, "CNY", "400 cny")])
        
        test("100 Ğ»Ğ°Ñ€Ğ¸", [(100.0, "GEL", "100 Ğ»Ğ°Ñ€Ğ¸")])
        test("200 gel", [(200.0, "GEL", "200 gel")])
        
        test("100 Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", [(100.0, "RSD", "100 Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²")])
        test("200 Ğ´Ğ¸Ğ½Ğ°Ñ€", [(200.0, "RSD", "200 Ğ´Ğ¸Ğ½Ğ°Ñ€")])
        test("300 Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", [(300.0, "RSD", "300 Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²")])
        test("400 rsd", [(400.0, "RSD", "400 rsd")])
        
        test("100 Ğ±Ğ°Ñ‚Ğ¾Ğ²", [(100.0, "THB", "100 Ğ±Ğ°Ñ‚Ğ¾Ğ²")])
        test("200 Ğ±Ğ°Ñ‚", [(200.0, "THB", "200 Ğ±Ğ°Ñ‚")])
        test("300 Ğ±Ğ°Ñ‚Ğ°", [(300.0, "THB", "300 Ğ±Ğ°Ñ‚Ğ°")])
        test("400 thb", [(400.0, "THB", "400 thb")])
        
        test("100 Ñ‚ĞµĞ½Ğ³Ğµ", [(100.0, "KZT", "100 Ñ‚ĞµĞ½Ğ³Ğµ")])
        test("200 Ñ‚Ğ³", [(200.0, "KZT", "200 Ñ‚Ğ³")])
        test("300 kzt", [(300.0, "KZT", "300 kzt")])
        
        test("1.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(1.5, "RUB", "1.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("2,5 ĞµĞ²Ñ€Ğ¾", [(2.5, "EUR", "2,5 ĞµĞ²Ñ€Ğ¾")])
        test("$3.14", [(3.14, "USD", "$3.14")])
        test("10.50â‚½", [(10.50, "RUB", "10.50â‚½")])
        test("100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("1 ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ÑŒ", [(1000.0, "RUB", "1 ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ÑŒ")])
        test("20 ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(20000.0, "RUB", "20 ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ÑŒ", [(1000.0, "RUB", "ĞºĞ¸Ğ»Ğ¾Ñ€ÑƒĞ±Ğ»ÑŒ")])


        test("$200", [(200.0, "USD", "$200")])
        test("300 EUR", [(300.0, "EUR", "300 EUR")])
        test("400â‚½", [(400.0, "RUB", "400â‚½")])
        test("500 Ğ±Ğ°ĞºÑĞ¾Ğ²", [(500.0, "USD", "500 Ğ±Ğ°ĞºÑĞ¾Ğ²")])
        test("600 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(600.0, "USD", "600 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])



        test("1Ğº Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(1000.0, "RUB", "1Ğº Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("1Ğº Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000.0, "USD", "1Ğº Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1Ğº ĞµĞ²Ñ€Ğ¾", [(1000.0, "EUR", "1Ğº ĞµĞ²Ñ€Ğ¾")])
        test("1Ğº Ğ¹ĞµĞ½", [(1000.0, "JPY", "1Ğº Ğ¹ĞµĞ½")])
        test("1Ğº ÑĞ°Ğ½ĞµĞ¹", [(1000.0, "CNY", "1Ğº ÑĞ°Ğ½ĞµĞ¹")])
        test("1Ğº Ğ»Ğ°Ñ€Ğ¸", [(1000.0, "GEL", "1Ğº Ğ»Ğ°Ñ€Ğ¸")])
        test("1Ğº Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", [(1000.0, "RSD", "1Ğº Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²")])
        test("1Ğº Ğ±Ğ°Ñ‚Ğ¾Ğ²", [(1000.0, "THB", "1Ğº Ğ±Ğ°Ñ‚Ğ¾Ğ²")])
        test("1Ğº Ñ‚ĞµĞ½Ğ³Ğµ", [(1000.0, "KZT", "1Ğº Ñ‚ĞµĞ½Ğ³Ğµ")])
        test("1Ğº Ñ‚ĞµĞ½Ğ³ĞµĞ³", [])
        test("1Ğº Ğ±Ğ°Ñ‚Ğ¾Ğ²Ğ°", [])


        test("2Ğº Ğ±Ğ°ĞºÑĞ¾Ğ²", [(2000.0, "USD", "2Ğº Ğ±Ğ°ĞºÑĞ¾Ğ²")])
        test("1.5Ğº EUR", [(1500.0, "EUR", "1.5Ğº EUR")])
        test("0.5Ğº Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(500.0, "USD", "0.5Ğº Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1Ğº$", [(1000.0, "USD", "1Ğº$")])
        test("2Ğºâ‚½", [(2000.0, "RUB", "2Ğºâ‚½")])
        test("1.5Ğºâ‚¬", [(1500.0, "EUR", "1.5Ğºâ‚¬")])
        test("1Ğº$ Ğ¸ 2Ğºâ‚½", [(1000.0, "USD", "1Ğº$"), (2000.0, "RUB", "2Ğºâ‚½")])
        test("Ğ¿ĞµÑ€ĞµĞ²ĞµĞ» 1Ğº$ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» 2Ğºâ‚½", [(1000.0, "USD", "1Ğº$"), (2000.0, "RUB", "2Ğºâ‚½")])
        test("Ğ¾Ñ‚Ğ´Ğ°Ğ» ĞµĞ¼Ñƒ 1.5Ğºâ‚¬", [(1500.0, "EUR", "1.5Ğºâ‚¬")])
        test("ĞšÑƒĞ¿Ğ¸Ğ» Ğ·Ğ° 100 Ğ±Ğ°ĞºÑĞ¾Ğ² Ğ¸ 200 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(100.0, "USD", "100 Ğ±Ğ°ĞºÑĞ¾Ğ²"), (200.0, "RUB", "200 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("ĞŸĞµÑ€ĞµĞ²ĞµĞ» 1Ğº$ Ğ¸ 2Ğºâ‚½", [(1000.0, "USD", "1Ğº$"), (2000.0, "RUB", "2Ğºâ‚½")])
        test("â‚¬100 Ğ¸ 200â‚½ Ğ¸ $300", [(100.0, "EUR", "â‚¬100"), (200.0, "RUB", "200â‚½"), (300.0, "USD", "$300")])
        test("ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ĞºĞ°Ğº Ğ´ĞµĞ»Ğ°?", [])
        test("123", [])
        test("Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ñ‚ĞµĞºÑÑ‚", [])
        test("k Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("kÑ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("k Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])  
        test("k ĞµĞ²Ñ€Ğ¾", [])
        test("k Ğ¹ĞµĞ½", [])
        test("k ÑĞ°Ğ½ĞµĞ¹", [])
        test("k Ğ»Ğ°Ñ€Ğ¸", [])
        test("k Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", [])
        test("k Ğ±Ğ°Ñ‚Ğ¾Ğ²", [])
        test("k Ñ‚ĞµĞ½Ğ³Ğµ", [])
        test("k$", [])
        test("kâ‚¬", [])
        test("kâ‚½", [])
        test("$k", [])
        test("â‚¬k", [])
        test("Ğ¸Ğ· Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ¾Ğ½ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» 0. Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ñ‚Ğ¾Ğ¶Ğµ Ğ½Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»", [])
        test("Ğ¾Ğ½ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹, Ğ¸ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ñ‚Ğ¾Ğ¶Ğµ", []) 
        test("Ğ¾Ğ½ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» 0.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹, Ğ¸ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ñ‚Ğ¾Ğ¶Ğµ", [(0.5, 'RUB', "0.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("Ğ¾Ğ½ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ» .5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹, Ğ¸ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ñ‚Ğ¾Ğ¶Ğµ", [(5, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")]) #???!!
        test("3 412 928 â‚ª", [(3412928.0, 'ILS', "3 412 928 â‚ª")])
        test("3 412  928 â‚ª", [(928.0, 'ILS', '928 â‚ª')])
        test("3 412Ğ½ 928 â‚ª", [(928.0, 'ILS', '928 â‚ª')])
        test("3 412 Ğ½928 â‚ª", []) 


        
        test("13675 â‚½", [(13675.0, 'RUB', "13675 â‚½")])
        test("13675â‚½", [(13675.0, 'RUB', "13675â‚½")])

        test("462 â‚ª", [(462.0, "ILS", "462 â‚ª")])
        test("462â‚ª", [(462.0, "ILS", "462â‚ª")])

        test("127 $", [(127.0, "USD", "127 $")])
        test("127$", [(127.0, "USD", "127$")])

        test("127 ĞºĞ°Ğ½Ğ°Ğ´ÑĞºĞ¸Ñ… Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(127.0, "CAD", "127 ĞºĞ°Ğ½Ğ°Ğ´ÑĞºĞ¸Ñ… Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("127 cad", [(127.0, "CAD", "127 cad")])
        test("127 CAD", [(127.0, "CAD", "127 CAD")])

        test("120 â‚¬", [(120.0, "EUR", "120 â‚¬")])
        test("120â‚¬", [(120.0, "EUR", "120â‚¬")])

        test("888 â‚½", [(888.0, "RUB", "888 â‚½")])
        test("888â‚½", [(888.0, "RUB", "888â‚½")])

        test("8.2 $", [(8.2, "USD", "8.2 $")])
        test("8.2$", [(8.2, "USD", "8.2$")])

        test("6.5 Â£", [(6.5, "GBP", "6.5 Â£")])
        test("6.5Â£", [(6.5, "GBP", "6.5Â£")])

        test("7.8 â‚¬", [(7.8, "EUR", "7.8 â‚¬")])
        test("7.8â‚¬", [(7.8, "EUR", "7.8â‚¬")])

        test("38 $", [(38.0, "USD", "38 $")])
        test("38$", [(38.0, "USD", "38$")])

        test("36 â‚¬", [(36.0, "EUR", "36 â‚¬")])
        test("36â‚¬", [(36.0, "EUR", "36â‚¬")])

        test("1.4 â‚ª", [(1.4, "ILS", "1.4 â‚ª")])
        test("1.4â‚ª", [(1.4, "ILS", "1.4â‚ª")])

        test("0.4 $", [(0.4, "USD", "0.4 $")])
        test("0.4$", [(0.4, "USD", "0.4$")])

        test("0.3 Â£", [(0.3, "GBP", "0.3 Â£")])
        test("0.3Â£", [(0.3, "GBP", "0.3Â£")])

        test("0.4 â‚¬", [(0.4, "EUR", "0.4 â‚¬")])
        test("0.4â‚¬", [(0.4, "EUR", "0.4â‚¬")])

        test("6838 â‚½", [(6838.0, "RUB", "6838 â‚½")])
        test("6838â‚½", [(6838.0, "RUB", "6838â‚½")])

        test("231 â‚ª", [(231.0, "ILS", "231 â‚ª")])
        test("231â‚ª", [(231.0, "ILS", "231â‚ª")])

        test("63 $", [(63.0, "USD", "63 $")])
        test("63$", [(63.0, "USD", "63$")])

        test("60 â‚¬", [(60.0, "EUR", "60 â‚¬")])
        test("60â‚¬", [(60.0, "EUR", "60â‚¬")])

        test("26 â‚½", [(26.0, "RUB", "26 â‚½")])
        test("26â‚½", [(26.0, "RUB", "26â‚½")])    

        test("0.9 â‚ª", [(0.9, "ILS", "0.9 â‚ª")])
        test("0.9â‚ª", [(0.9, "ILS", "0.9â‚ª")])

        test("0.3 $", [(0.3, "USD", "0.3 $")])
        test("0.3$", [(0.3, "USD", "0.3$")])

        test("0.2 Â£", [(0.2, "GBP", "0.2 Â£")])
        test("0.2Â£", [(0.2, "GBP", "0.2Â£")])

        test("0.2 â‚¬", [(0.2, "EUR", "0.2 â‚¬")])
        test("0.2â‚¬", [(0.2, "EUR", "0.2â‚¬")])

        test("0.2 MXN", [(0.2, "MXN", "0.2 MXN")])
        test("0.2MXN", [(0.2, "MXN", "0.2MXN")])
        test("0.2 Ğ¼ĞµĞºÑĞ¸ĞºĞ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ğ¿ĞµÑĞ¾", [(0.2, "MXN", "0.2 Ğ¼ĞµĞºÑĞ¸ĞºĞ°Ğ½ÑĞºĞ¾Ğ³Ğ¾ Ğ¿ĞµÑĞ¾")])
        test("0.2 Ğ¿ĞµÑĞ¾", [(0.2, "MXN", "0.2 Ğ¿ĞµÑĞ¾")])

        test("0.2 â‚¤", [(0.2, "TRY", "0.2 â‚¤")])
        test("0.2â‚¤", [(0.2, "TRY", "0.2â‚¤")])
        test("0.2 Ğ»Ğ¸Ñ€Ñ‹", [(0.2, "TRY", "0.2 Ğ»Ğ¸Ñ€Ñ‹")])
        test("0.2 Ğ»Ğ¸Ñ€", [(0.2, "TRY", "0.2 Ğ»Ğ¸Ñ€")])
        test("0.2 Ñ‚ÑƒÑ€ĞµÑ†ĞºĞ¾Ğ¹ Ğ»Ğ¸Ñ€Ñ‹", [(0.2, "TRY", "0.2 Ñ‚ÑƒÑ€ĞµÑ†ĞºĞ¾Ğ¹ Ğ»Ğ¸Ñ€Ñ‹")])


        test("0.2 zÅ‚", [(0.2, "PLN", "0.2 zÅ‚")])
        test("0.2zÅ‚", [(0.2, "PLN", "0.2zÅ‚")])
        test("0.2 Ğ·Ğ»Ğ¾Ñ‚Ñ‹Ñ…", [(0.2, "PLN", "0.2 Ğ·Ğ»Ğ¾Ñ‚Ñ‹Ñ…")])
        test("1 Ğ·Ğ»Ğ¾Ñ‚Ñ‹Ğ¹", [(1.0, "PLN", "1 Ğ·Ğ»Ğ¾Ñ‚Ñ‹Ğ¹")])
        test("0.2 Ğ½ĞµĞ·Ğ»Ğ¾Ñ‚Ñ‹Ñ…", [])

        test("0.2 KÄ", [(0.2, "CZK", "0.2 KÄ")])
        test("0.2KÄ", [(0.2, "CZK", "0.2KÄ")])
        test("0.2 ĞºÑ€Ğ¾Ğ½", [(0.2, "CZK", "0.2 ĞºÑ€Ğ¾Ğ½")])
        test("0.2 Ñ‡ĞµÑˆÑĞºĞ¸Ñ… ĞºÑ€Ğ¾Ğ½", [(0.2, "CZK", "0.2 Ñ‡ĞµÑˆÑĞºĞ¸Ñ… ĞºÑ€Ğ¾Ğ½")])
        test("1 Ñ‡ĞµÑˆÑĞºĞ°Ñ ĞºÑ€Ğ¾Ğ½Ğ°", [(1.0, "CZK", "1 Ñ‡ĞµÑˆÑĞºĞ°Ñ ĞºÑ€Ğ¾Ğ½Ğ°")])
        test("0.2 Ğ½ĞµÑ‡ĞµÑˆÑĞºĞ¸Ñ… ĞºÑ€Ğ¾Ğ½", [])
        test("0.2 ĞºÑ€Ğ¾Ğ½Ñ‚Ğ°Ğ±", [])

        test("0.2 Br", [(0.2, "BYN", "0.2 Br")])
        test("0.2Br", [(0.2, "BYN", "0.2Br")])
        test("0.2 Ğ±ĞµĞ»Ğ¾Ñ€ÑƒÑÑĞºĞ¸Ñ… Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.2, "BYN", "0.2 Ğ±ĞµĞ»Ğ¾Ñ€ÑƒÑÑĞºĞ¸Ñ… Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("1 Ğ±ĞµĞ»Ğ¾Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ñ€ÑƒĞ±Ğ»ÑŒ", [(1.0, "BYN", "1 Ğ±ĞµĞ»Ğ¾Ñ€ÑƒÑÑĞºĞ¸Ğ¹ Ñ€ÑƒĞ±Ğ»ÑŒ")])
        test("0.2 Ğ½ĞµĞ±ĞµĞ»Ğ¾Ñ€ÑƒÑÑĞºĞ¸Ñ… Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("0.2 Ñ€ÑƒĞ±Ğ»ÑĞ±", [])

        test("0.2 â‚´", [(0.2, "UAH", "0.2 â‚´")])
        test("0.2â‚´", [(0.2, "UAH", "0.2â‚´")])
        test("0.2 Ğ³Ñ€Ğ¸Ğ²Ğ½Ñ‹", [(0.2, "UAH", "0.2 Ğ³Ñ€Ğ¸Ğ²Ğ½Ñ‹")])
        test("0.2 Ğ³Ñ€Ğ¸Ğ²Ğ½Ğ°", [(0.2, "UAH", "0.2 Ğ³Ñ€Ğ¸Ğ²Ğ½Ğ°")])
        test("0.2 Ğ½ĞµĞ³Ñ€Ğ¸Ğ²ĞµĞ½", [])

        test("1 Ñ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ¹", [(1.0, "RON", "1 Ñ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ¹")])
        test("2 Ñ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ñ… Ğ»ĞµÑ", [(2.0, "RON", "2 Ñ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ñ… Ğ»ĞµÑ")])
        test("0.2 Ğ½ĞµÑ€ÑƒĞ¼Ñ‹Ğ½ÑĞºĞ¸Ñ… Ğ»ĞµĞ¹", [])
        test("1 Ñ€Ğ¾Ğ½", [(1.0, "RON", "1 Ñ€Ğ¾Ğ½")])
        test("2 Ñ€Ğ¾Ğ½Ğ°", [(2.0, "RON", "2 Ñ€Ğ¾Ğ½Ğ°")])
        test("10 Ñ€Ğ¾Ğ½Ğ¾Ğ²", [(10.0, "RON", "10 Ñ€Ğ¾Ğ½Ğ¾Ğ²")])
        test("0.2 Ğ½ĞµÑ€Ğ¾Ğ½Ğ¾Ğ²", [])

        test("1 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ¹", [(1.0, "MDL", "1 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ¹")])
        test("2 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ñ… Ğ»ĞµÑ", [(2.0, "MDL", "2 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ñ… Ğ»ĞµÑ")])
        test("5 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ñ… Ğ»ĞµĞµĞ²", [(5.0, "MDL", "5 Ğ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ñ… Ğ»ĞµĞµĞ²")])

        test("0.2 Ğ½ĞµĞ¼Ğ¾Ğ»Ğ´Ğ°Ğ²ÑĞºĞ¸Ñ… Ğ»ĞµĞµĞ²", [])

        test("1 Ğ»ĞµĞ¹", [(1.0, "MDL", "1 Ğ»ĞµĞ¹")])
        test("2 Ğ»ĞµÑ", [(2.0, "MDL", "2 Ğ»ĞµÑ")])
        test("5 Ğ»ĞµĞµĞ²", [(5.0, "MDL", "5 Ğ»ĞµĞµĞ²")])

        test("1 Ğ»ĞµĞ²", [(1.0, "BGN", "1 Ğ»ĞµĞ²")])
        test("2 Ğ»ĞµĞ²Ğ°", [(2.0, "BGN", "2 Ğ»ĞµĞ²Ğ°")])
        test("5 Ğ»ĞµĞ²Ğ¾Ğ²", [(5.0, "BGN", "5 Ğ»ĞµĞ²Ğ¾Ğ²")])  
        test("0.2 Ğ½ĞµĞ»ĞµĞ²Ğ¾Ğ²", [])
        test("1 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ²", [(1.0, "BGN", "1 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ğ¹ Ğ»ĞµĞ²")])
        test("2 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ñ… Ğ»ĞµĞ²Ğ°", [(2.0, "BGN", "2 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ñ… Ğ»ĞµĞ²Ğ°")])
        test("5 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ñ… Ğ»ĞµĞ²Ğ¾Ğ²", [(5.0, "BGN", "5 Ğ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ñ… Ğ»ĞµĞ²Ğ¾Ğ²")])
        test("0.2 Ğ½ĞµĞ±Ğ¾Ğ»Ğ³Ğ°Ñ€ÑĞºĞ¸Ñ… Ğ»ĞµĞ²Ğ¾Ğ²", [])
        test("1 Ğ»Ğ²", [(1.0, "BGN", "1 Ğ»Ğ²")])
        test("1 Ğ»Ğ²Ğ»", [])

        test("1 dh", [(1.0, "AED", "1 dh")])
        test("2 dh", [(2.0, "AED", "2 dh")])
        test("5 dh", [(5.0, "AED", "5 dh")])
        test("0.2 ndh", [])
        test("100 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼", [(100.0, "AED", "100 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼")])
        test("2 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ğ°", [(2.0, "AED", "2 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ğ°")])
        test("5 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ğ¾Ğ²", [(5.0, "AED", "5 Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ğ¾Ğ²")])
        test("0.2 Ğ½ĞµĞ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ğ¾Ğ²", [])
        test("1 Ø¯.Ø¥", [(1.0, "AED", "1 Ø¯.Ø¥")])
        test("2 Ø¯.Ø¥", [(2.0, "AED", "2 Ø¯.Ø¥")])
        test("5 Ø¯.Ø¥", [(5.0, "AED", "5 Ø¯.Ø¥")])



        test("0.2 â‚«", [(0.2, "VND", "0.2 â‚«")])
        test("0.2â‚«", [(0.2, "VND", "0.2â‚«")])
        test("0.2 Ğ´Ğ¾Ğ½Ğ³Ğ°", [(0.2, "VND", "0.2 Ğ´Ğ¾Ğ½Ğ³Ğ°")])
        test("0.2 Ğ½ĞµĞ´Ğ¾Ğ½Ğ³Ğ¾Ğ²", [])


        test("-5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, "RUB", "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹ + 20 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(10.0, "RUB", "10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹"), (20.0, "GBP", "20 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])

        test("3^5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", []) 
        test("3^5 ĞºĞ²Ğ¸Ğ´", []) 
        test("0x1999 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", []) 
        test("50e10 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", []) 
        test("5+5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(5.0, "USD", "5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")]) 
        test("${7*7} Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("1e10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("4+5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("4-5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("4/5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("4*5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("4^5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("4%5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("4!5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(5.0, 'RUB', "5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("5! Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])

        test("4.5 Ğ² Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("4.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(4.5, 'RUB', "4.5 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("100-10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(10.0, 'RUB', "10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("20 Ğ´Ğ¸Ğ½Ğ°Ñ€", [(20.0, 'RSD', "20 Ğ´Ğ¸Ğ½Ğ°Ñ€")])

        test("-100 Ğ±Ğ°ĞºÑĞ¾Ğ²", [(100.0, "USD", "100 Ğ±Ğ°ĞºÑĞ¾Ğ²")])
        test("0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.0, "RUB", "0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("0Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.0, "RUB", "0Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])

        test("-10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(10.0, "RUB", "10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("-1 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(1.0, "RUB", "1 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("-0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.0, "RUB", "0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("-0 ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("-0 ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ğ¸ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ¡Ñ‚Ğ¾ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [])
        test("Ğ”Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", [])
        test("ĞŸÑÑ‚ÑŒ Ñ‚Ñ‹ÑÑÑ‡ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("Ğ¿Ğ¸Ñ†Ğ¾Ñ‚ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("Ğ”Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ´Ğ²ĞµÑÑ‚Ğ¸ Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", [])

        test("10:30 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(30.0, "RUB", "30 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("10:30 Ğ¸ Ğ´Ğ°Ğ»ÑŒÑˆĞµ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        
        test("1. Ñ€ÑƒĞ±Ğ»ÑŒ", [])
        test("0. Ğ´Ñ€Ğ°Ğ¼", [])
        test("AMD6521", [])
        test("AMD 6521", [])
        test("1 TON", [])
        test("null Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ‘Ğ»Ñ Ñ€ÑƒĞ±Ğ»Ñ", [])
        test("1 ÑˆĞ°Ñ…ĞµÑ€ĞµĞ·Ğ°Ğ´Ğ°", [])
        test("30 Ğ¿Ñ…Ğ¿", [])
        test("100500 ĞºĞ³Ğ°Ğ¼", [])
        test("1337 Ñ‡ĞµĞ³Ğ¾ Ğ±Ğ»ÑĞ´ÑŒ", [])
        test("5500 AMD", [])
        test("1337 Ğ»Ğ°Ñ€Ğ¸", [(1337.0, "GEL", "1337 Ğ»Ğ°Ñ€Ğ¸")])
        test("415 amd", [])
        test("300$", [(300.0, "USD", "300$")])
        test("10 ÑĞ°Ğ½ĞµĞ¹", [(10.0, "CNY", "10 ÑĞ°Ğ½ĞµĞ¹")])
        test("1 Ñ„ÑƒĞ½Ñ‚", [(1.0, "GBP", "1 Ñ„ÑƒĞ½Ñ‚")])
        test("1 ĞºĞ²Ğ¸Ğ´", [(1.0, "GBP", "1 ĞºĞ²Ğ¸Ğ´")])
        test("1488 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1488.0, "GBP", "1488 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("5 Ğ±Ğ°ĞºÑĞ¾Ğ²", [(5.0, "USD", "5 Ğ±Ğ°ĞºÑĞ¾Ğ²")])
        test("99 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² Ğ¸ 100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(99.0, "GBP", "99 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²"), (100.0, "USD", "100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹ + 1 Ñ€ÑƒĞ±Ğ»ÑŒ", [(10.0, "RUB", "10 Ñ€ÑƒĞ±Ğ»ĞµĞ¹"), (1.0, "RUB", "1 Ñ€ÑƒĞ±Ğ»ÑŒ")])
        test("999999999999999999999999 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(999999999999999999999999.0, "GBP", "999999999999999999999999 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("500 ÑĞ¸Ğ³Ğ°Ñ€ĞµÑ‚", [])
        test("500 Ñ…ÑƒÑ‘Ğ² Ñ‚ĞµĞ±Ğµ Ğ² Ğ¶Ğ¾Ğ¿Ñƒ", [])    
        test("8", [])

        test("Ğ‘Ğ»Ñ â‚ª", [])
        test("50 Ğ½Ñ„Ñ", [])
        test("50 Ğ°Ğ³Ğ¾Ñ€Ğ¾Ñ‚", [])
        test("50 Ğ¾Ğ³Ğ¾Ñ€Ğ¾Ğ´", [])


        test("1 Ñ€ÑƒĞ±Ğ»ÑŒ", [(1.0, "RUB", "1 Ñ€ÑƒĞ±Ğ»ÑŒ")])
        test("1 Ğ»Ğ°Ñ€Ğ¸ 100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹ 2 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°", [(1.0, "GEL", "1 Ğ»Ğ°Ñ€Ğ¸"), (100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹"), (2.0, "USD", "2 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ°")])
        test("0.0 ĞºĞ³, 0.1 â‚½,", [(0.1, 'RUB', '0.1 â‚½')])
        test("0.001 Ñ„ÑƒĞ½Ñ‚Ğ°", [(0.001, 'GBP', '0.001 Ñ„ÑƒĞ½Ñ‚Ğ°')])
        test("1 Ğ»Ğ°Ñ€Ğ¸", [(1.0, "GEL", "1 Ğ»Ğ°Ñ€Ğ¸")])
        test("0.0015 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.0015, 'RUB', '0.0015 Ñ€ÑƒĞ±Ğ»ĞµĞ¹')])

        test("ĞŸÑÑ‚ÑŒ 6 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(6.0, 'USD', '6 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²')])
        test("5 6 7 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(7.0, 'USD', '7 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²')])
        test("3 ÑˆĞµĞºĞµĞ»Ñ", [(3.0, 'ILS', '3 ÑˆĞµĞºĞµĞ»Ñ')])
        test("10000 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(10000.0, 'RUB', '10000 Ñ€ÑƒĞ±Ğ»ĞµĞ¹')])
        test("Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ 2 Ñ€ÑƒĞ±Ğ»Ñ", [(2.0, 'RUB', '2 Ñ€ÑƒĞ±Ğ»Ñ')])
        test("ĞĞ´Ğ¸Ğ½1 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])

        test("1.0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(1.0, 'RUB', '1.0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹')])
        test("1. Ğ ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("2. Ğ”Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("0. Ğ´Ñ€Ğ°Ğ¼", [])

        test("-100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(100.0, "GBP", "100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("-100000000000 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(100000000000.0, "GBP", "100000000000 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("15 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(15.0, "GBP", "15 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("12345679x9 ĞµĞ²Ñ€Ğ¾", [])
        test("1Ğ±Ğ»ÑÑ‚ÑŒ1 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ox5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ‘Ğ»ÑÑ‚ÑŒ11 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ 0,05 â‚½", [(0.05, 'RUB', '0,05 â‚½')])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²
        test("50 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(0.5, "USD", "50 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])
        test("1 Ñ†ĞµĞ½Ñ‚", [(0.01, "USD", "1 Ñ†ĞµĞ½Ñ‚")])
        test("2 Ñ†ĞµĞ½Ñ‚Ğ°", [(0.02, "USD", "2 Ñ†ĞµĞ½Ñ‚Ğ°")])
        test("5 cents", [(0.05, "USD", "5 cents")])
        test("1 cent", [(0.01, "USD", "1 cent")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²
        test("50 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(0.5, "EUR", "50 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])
        test("1 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚", [(0.01, "EUR", "1 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚")])
        test("2 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°", [(0.02, "EUR", "2 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ°")])
        test("5 eurocents", [(0.05, "EUR", "5 eurocents")])
        test("1 eurocent", [(0.01, "EUR", "1 eurocent")])
        
        # ĞšĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
        test("5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² 30 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(5.0, "USD", "5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²"), (0.3, "USD", "30 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])
        test("2 ĞµĞ²Ñ€Ğ¾ 15 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(2.0, "EUR", "2 ĞµĞ²Ñ€Ğ¾"), (0.15, "EUR", "15 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])
        test("1 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€ 1 Ñ†ĞµĞ½Ñ‚", [(1.0, "USD", "1 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€"), (0.01, "USD", "1 Ñ†ĞµĞ½Ñ‚")])
        test("1 ĞµĞ²Ñ€Ğ¾ 1 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚", [(1.0, "EUR", "1 ĞµĞ²Ñ€Ğ¾"), (0.01, "EUR", "1 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚")])

        # ĞĞµĞ³Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹
        test("Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [])
        test("ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [])
        test("k Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [])
        test("k ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [])
        test("0 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(0.0, "USD", "0 Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])
        test("0 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²", [(0.0, "EUR", "0 ĞµĞ²Ñ€Ğ¾Ñ†ĞµĞ½Ñ‚Ğ¾Ğ²")])

        test("1,000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000.0, "USD", "1,000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1 000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000.0, "USD", "1 000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1 000,50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000.50, "USD", "1 000,50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("2.500,75 ĞµĞ²Ñ€Ğ¾", [(2500.75, "EUR", "2.500,75 ĞµĞ²Ñ€Ğ¾")])
        test("3,000,000 Ğ¹ĞµĞ½", [(3000000.0, "JPY", "3,000,000 Ğ¹ĞµĞ½")])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… ÑÑƒĞ¼Ğ¼
        test("-5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(5.0, "USD", "5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("Ğ¼Ğ¸Ğ½ÑƒÑ 10 ĞµĞ²Ñ€Ğ¾", [(10.0, "EUR", "10 ĞµĞ²Ñ€Ğ¾")])

        test("Â¥1000", [(1000.0, "JPY", "Â¥1000")])
        test("1000Â¥", [(1000.0, "JPY", "1000Â¥")])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ²Ğ°Ğ»ÑÑ‚
        test("500 ÑĞ°Ğ½ĞµĞ¹", [(500.0, "CNY", "500 ÑĞ°Ğ½ĞµĞ¹")])
        test("200 cny", [(200.0, "CNY", "200 cny")])
        test("100 ÑˆĞµĞºĞµĞ»ĞµĞ¹", [(100.0, "ILS", "100 ÑˆĞµĞºĞµĞ»ĞµĞ¹")])
        test("200â‚ª", [(200.0, "ILS", "200â‚ª")])

        # ĞĞµĞ³Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ñ… Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ²
        test("100..50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(50.0, 'USD', '50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²')])
        test("100, Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² 100", [])
        test("Ğ´Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [])
        test("Ğ¼Ğ¸Ğ½ÑƒÑ Ğ¿ÑÑ‚ÑŒ ĞµĞ²Ñ€Ğ¾", [])
        test("5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ¡Ğ¨Ğ", [(5.0, 'USD', '5 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²')])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ¸ÑĞµĞ» Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸ Ñ‚Ñ‹ÑÑÑ‡ Ğ¸ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¼Ğ¸
        test("1 000,50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000.50, "USD", "1 000,50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1.000,50 ĞµĞ²Ñ€Ğ¾", [(1000.50, "EUR", "1.000,50 ĞµĞ²Ñ€Ğ¾")])
        test("1,000.50 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1000.50, "GBP", "1,000.50 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("3,000,000 Ğ¹ĞµĞ½", [(3000000.0, "JPY", "3,000,000 Ğ¹ĞµĞ½")])
        test("3 412 928 â‚ª", [(3412928.0, "ILS", "3 412 928 â‚ª")])
        
        # Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ²
        #test("1.000.000,50 ĞµĞ²Ñ€Ğ¾", [(1000000.50, "EUR", "1.000.000,50 ĞµĞ²Ñ€Ğ¾")])
        #test("1,000,000.50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(1000000.50, "USD", "1,000,000.50 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("1 000 000,50 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(1000000.50, "RUB", "1 000 000,50 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        #test("1.234.567,89 ĞµĞ²Ñ€Ğ¾", [(1234567.89, "EUR", "1.234.567,89 ĞµĞ²Ñ€Ğ¾")])
        #test("1,234,567.89 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1234567.89, "GBP", "1,234,567.89 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ĞºĞ¾Ñ€ĞµĞ¹ÑĞºĞ¾Ğ¹ Ğ²Ğ¾Ğ½Ñ‹ (KRW)
        test("100 Ğ²Ğ¾Ğ½", [(100.0, "KRW", "100 Ğ²Ğ¾Ğ½")])
        test("200 Ğ²Ğ¾Ğ½Ğ°", [(200.0, "KRW", "200 Ğ²Ğ¾Ğ½Ğ°")])
        test("300 Ğ²Ğ¾Ğ½Ñ‹", [(300.0, "KRW", "300 Ğ²Ğ¾Ğ½Ñ‹")])
        test("400 krw", [(400.0, "KRW", "400 krw")])
        test("500â‚©", [(500.0, "KRW", "500â‚©")])
        test("â‚©600", [(600.0, "KRW", "â‚©600")])
        test("700 â‚©", [(700.0, "KRW", "700 â‚©")])
        
        test("100 ÑĞ°Ğ½ĞµĞ¹", [(100.0, "CNY", "100 ÑĞ°Ğ½ĞµĞ¹")])

        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ» Ñ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹
        test("0,015 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(0.015, "GBP", "0,015 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("0,015 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(0.015, "USD", "0,015 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        test("0,015 ĞµĞ²Ñ€Ğ¾", [(0.015, "EUR", "0,015 ĞµĞ²Ñ€Ğ¾")])
        test("0,015 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(0.015, "RUB", "0,015 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ» Ñ Ñ‚Ğ¾Ñ‡ĞºĞ¾Ğ¹
        test("0.015 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(0.015, "GBP", "0.015 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("0.015 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(0.015, "USD", "0.015 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹ Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¸
        test("1,5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1.5, "GBP", "1,5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("1.5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1.5, "GBP", "1.5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ¸ÑĞµĞ» Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸ Ñ‚Ñ‹ÑÑÑ‡ Ğ¸ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğ¼Ğ¸
        test("1,000.50 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1000.50, "GBP", "1,000.50 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("1.000,50 ĞµĞ²Ñ€Ğ¾", [(1000.50, "EUR", "1.000,50 ĞµĞ²Ñ€Ğ¾")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ¼Ğ°Ğ»ĞµĞ½ÑŒĞºĞ¸Ñ… Ñ‡Ğ¸ÑĞµĞ»
        test("0,001 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(0.001, "GBP", "0,001 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("0,0001 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(0.0001, "USD", "0,0001 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ¸ÑĞµĞ» Ñ Ğ½ÑƒĞ»ÑĞ¼Ğ¸ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹
        test("1,00 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(1.0, "GBP", "1,00 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("10,00 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(10.0, "USD", "10,00 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ¸ÑĞµĞ» Ñ Ğ½ÑƒĞ»ÑĞ¼Ğ¸ Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑÑ‚Ğ¾Ğ¹
        test("0,5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", [(0.5, "GBP", "0,5 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²")])
        test("0,25 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", [(0.25, "USD", "0,25 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")])

    def test_currency_boundary_detection(self):
        def test(text, expected):
            result = self.parser.find_currencies(text)
            print(f'Test "{text}" -> {result} (expected {expected}), {"Pass" if result == expected else "Fail"}')
            self.assertEqual(result, expected)
        
        # ĞŸĞ¾Ğ»Ğ¾Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ - Ğ²Ğ°Ğ»ÑÑ‚Ğ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ² Ğ½Ğ°Ñ‡Ğ°Ğ»Ğµ/ĞºĞ¾Ğ½Ñ†Ğµ ÑÑ‚Ñ€Ğ¾ĞºĞ¸
        test("100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("$100", [(100.0, "USD", "$100")])
        test("100$", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚ 100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ñ‚ĞµĞºÑÑ‚", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("Ñ‚ĞµĞºÑÑ‚ 100$ Ñ‚ĞµĞºÑÑ‚", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚ $100 Ñ‚ĞµĞºÑÑ‚", [(100.0, "USD", "$100")])
        test("Ñ‚ĞµĞºÑÑ‚, 100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹.", [(100.0, "RUB", "100 Ñ€ÑƒĞ±Ğ»ĞµĞ¹")])
        test("Ñ‚ĞµĞºÑÑ‚! 100$ Ñ‚ĞµĞºÑÑ‚", [(100.0, "USD", "100$")])
        
        # ĞÑ‚Ñ€Ğ¸Ñ†Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ - Ğ²Ğ°Ğ»ÑÑ‚Ğ° Ğ½Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸
        test("Ñ‚ĞµĞºÑÑ‚100Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("Ñ‚ĞµĞºÑÑ‚100$Ñ‚ĞµĞºÑÑ‚", [])
        test("Ñ‚ĞµĞºÑÑ‚$100Ñ‚ĞµĞºÑÑ‚", [])
        test("100Ñ€ÑƒĞ±Ğ»ĞµĞ¹Ñ‚ĞµĞºÑÑ‚", [])
        test("$100Ñ‚ĞµĞºÑÑ‚", [])
        test("Ñ‚ĞµĞºÑÑ‚100$", []) 
        test("Ñ‚ĞµĞºÑÑ‚$100", []) 
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ°Ğ¼Ğ¸ Ğ²Ğ°Ğ»ÑÑ‚
        test("Ñ‚ĞµĞºÑÑ‚â‚½100", [])
        test("Ñ‚ĞµĞºÑÑ‚100â‚½", []) 
        test("Ñ‚ĞµĞºÑÑ‚â‚½100Ñ‚ĞµĞºÑÑ‚", [])
        test("Ñ‚ĞµĞºÑÑ‚100â‚½Ñ‚ĞµĞºÑÑ‚", [])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑĞ¼Ğ¸
        test("Ñ‚ĞµĞºÑÑ‚-100$", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚_100$", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚/100$", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚(100$)", [(100.0, "USD", "100$")])
        test("Ñ‚ĞµĞºÑÑ‚[100$]", [(100.0, "USD", "100$")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ URL Ğ¸ email
        test("ÑĞ°Ğ¹Ñ‚100$.com", [])
        test("email@100$.com", [])  
        test("https://100$.com", [(100.0, "USD", "100$")]) 
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ Ñ…ÑÑˆÑ‚ĞµĞ³Ğ°Ğ¼Ğ¸ Ğ¸ ÑƒĞ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸ÑĞ¼Ğ¸
        test("#100$", [])
        test("@100$", [])
        test("#100 $", [])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸
        test("ğŸ’°100$", [(100.0, "USD", "100$")])
        test("100$ğŸ’°", [(100.0, "USD", "100$")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ ĞºĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¸Ñ†ĞµĞ¹
        test("Ñ†ĞµĞ½Ğ°100Ñ€ÑƒĞ±Ğ»ĞµĞ¹", [])
        test("Ñ†ĞµĞ½Ğ°100$", []) 
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼Ğ¸ Ğ²Ğ°Ğ»ÑÑ‚Ğ°Ğ¼Ğ¸
        test("100$200â‚¬", [(200.0, 'EUR', '200â‚¬')]) 
        test("100$Ñ‚ĞµĞºÑÑ‚200â‚¬", []) 
        test("Ñ‚ĞµĞºÑÑ‚100$Ñ‚ĞµĞºÑÑ‚200â‚¬Ñ‚ĞµĞºÑÑ‚", [])
        test("Ñ‚ĞµĞºÑÑ‚ 100$ Ñ‚ĞµĞºÑÑ‚ 200â‚¬ Ñ‚ĞµĞºÑÑ‚", [(100.0, "USD", "100$"), (200.0, "EUR", "200â‚¬")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ dh (Ğ´Ğ¸Ñ€Ñ…Ğ°Ğ¼Ñ‹)
        test("100dh", [(100.0, "AED", "100dh")])
        test("Ñ‚ĞµĞºÑÑ‚100dh", [])
        test("Ñ‚ĞµĞºÑÑ‚ 100dh", [(100.0, "AED", "100dh")])
        test("100dhÑ‚ĞµĞºÑÑ‚", [])
        test("100dh Ñ‚ĞµĞºÑÑ‚", [(100.0, "AED", "100dh")])
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ñ 6Dh Ğ¸Ğ· Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°
        test("6Dh", [(6.0, "AED", "6Dh")])
        test("Ñ‚ĞµĞºÑÑ‚6Dh", [])
        test("Ñ‚ĞµĞºÑÑ‚ 6Dh", [(6.0, "AED", "6Dh")])
        test("6DhÑ‚ĞµĞºÑÑ‚", [])
        test("6Dh Ñ‚ĞµĞºÑÑ‚", [(6.0, "AED", "6Dh")])
        
        # Ğ¢ĞµÑÑ‚ Ğ¸Ğ· Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ°
        test("https://open.spotify.com/track/3cfgisz6DhZmooQk08P4Eu", [])

class StubExchangeRatesManager:
    def get_rate(self, from_currency, to_currency):
        # Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ĞºÑƒÑ€Ñ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
        return 1.0  # ĞšÑƒÑ€Ñ 1 Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ¾Ñ‰ĞµĞ½Ğ¸Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²


class TestCurrencyFormatting(unittest.TestCase):
    def setUp(self):
        self.parser = TestCurrencyParser()
        self.formatter = CurrencyFormatter()
        self.rates_manager = StubExchangeRatesManager()
        self.rates = {}
        for curr in CURRENCIES.keys():
            for target in CURRENCIES.keys():
                if curr != target:
                    self.rates[f"{curr}_{target}"] = self.rates_manager.get_rate(curr, target)

    def test_formatter(self):
        def test(input_text: str, expected_output: str):
            currency_list = self.parser.find_currencies(input_text)
            result = self.formatter.format_multiple_conversions(currency_list, self.rates, mode='chat')
            self.assertEqual(result, expected_output)

        test("100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡ºğŸ‡¸) ÑÑ‚Ğ¾ ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡ªğŸ‡º 100 â‚¬, ğŸ‡¬ğŸ‡§ Â£100, ğŸ‡¯ğŸ‡µ Â¥100, ğŸ‡¦ğŸ‡² 100 Ö")
        test("100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", "100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² (ğŸ‡¬ğŸ‡§) ÑÑ‚Ğ¾ 45.4 ĞºĞ³, Ğ° Ñ‚Ğ°ĞºĞ¶Ğµ ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡ºğŸ‡¸ $100, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡ªğŸ‡º 100 â‚¬, ğŸ‡¯ğŸ‡µ Â¥100, ğŸ‡¦ğŸ‡² 100 Ö")
        test("0 Ñ€ÑƒĞ±Ğ»ĞµĞ¹", "ĞĞ°Ñ…ÑƒĞ¹ Ğ¸Ğ´Ğ¸")
        test("0 Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", "ĞĞ°Ñ…ÑƒĞ¹ Ğ¸Ğ´Ğ¸")
        test("k Ğ´Ğ¸Ğ½Ğ°Ñ€Ğ¾Ğ²", None)
        test("k Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("k ĞµĞ²Ñ€Ğ¾", None)
        test("k Ğ¹ĞµĞ½", None)
        test("k ÑĞ°Ğ½ĞµĞ¹", None)
        test("k Ğ»Ğ°Ñ€Ğ¸", None)
        test("k Ğ±Ğ°Ñ‚Ğ¾Ğ²", None)
        test("k Ñ‚ĞµĞ½Ğ³Ğµ", None)
        test(" 5 Ğ¿ÑÑ‚ÑŒ Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ¿ÑÑ‚ÑŒ Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("2000000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "ĞÑ‚ĞºÑƒĞ´Ğ° Ñƒ Ñ‚ĞµĞ±Ñ Ñ‚Ğ°ĞºĞ¸Ğµ Ğ´ĞµĞ½ÑŒĞ³Ğ¸, ÑÑ‹Ğ½Ğ¾Ğº?")
        test("ĞĞ¾Ğ»ÑŒ Ğ½Ğ¾Ğ»ÑŒ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("ĞŸÑÑ‚ÑŒ Ğ¼Ğ¸Ğ½ÑƒÑ Ğ¿ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("Ğ’Ğ¾ÑĞµĞ¼ÑŒ Ğ²Ğ¾ÑĞµĞ¼ÑŒÑĞ¾Ñ‚ Ğ¿ÑÑ‚ÑŒ Ğ¿ÑÑ‚ÑŒ Ğ¿ÑÑ‚ÑŒ Ñ‚Ñ€Ğ¸ Ğ¿ÑÑ‚ÑŒ Ñ‚Ñ€Ğ¸ Ğ¿ÑÑ‚ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("ĞĞ´Ğ¸Ğ½ Ğ¾Ğ´Ğ¸Ğ½ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€", None)
        test("1 bdsm", None)
        test("1 ĞºĞ¸Ğ»Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("1 TON", None)
        test("Ğ´ÑĞ¶Ğ¸Ğ½Ğ° Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ¡Ğ²Ğ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”Ğ° Ğ±Ğ»Ñ Ğ° ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑÑ‚Ğ¾ ÑÑ‚Ğ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("6 Ğ¿ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("13\" Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”ĞµÑÑÑ‚Ğ½Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ°Ñ€Ğ´ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("Ğ”Ğ¾Ğ´ĞµĞºĞ°Ğ»Ğ¸Ğ¾Ğ½ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ñ‘Ñ‘Ñ‘Ñ‘Ñ‘23322Ñ‘Ñ‘Ñ‘Ñ‘ Ğ´Ñ€Ğ°Ğ¼", None)
        test("ĞĞ´Ğ¸Ğ½ Ñ‡ĞµÑ‚Ñ‹Ñ€Ğµ Ğ²Ğ¾ÑĞµĞ¼ÑŒ Ğ²Ğ¾ÑĞµĞ¼ÑŒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ğ½Ğµ Ğ±Ñ€Ğ¾ÑĞ¸Ğ¼", None)
        test("Ñ‘Ğ´ĞµÑÑÑ‚ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ñ‚Ñ€Ğ¸Ğ´Ñ†Ğ°Ñ‚ÑŒÑ‘ Ğ»Ğ°Ñ€Ğ¸", None)
        test("Ğ”Ğ²eÑÑ‚Ğ¸ Ñ€yĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”Ğ²ĞµÑÑ‚Ğ¸') exit() Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”Ğ²ĞµÑÑ‚Ğ¸ Ñ€ÑƒĞ±Ğ»ĞµĞ¹') exit() Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ´Ğ²ĞµÑÑ‚Ğ¸ <script>alert()</script> Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", None)
        test("Ğ´Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ¥Ğ£Ã‹Ğ’ Ğ¢Ğ•Ğ‘Ğ• Ğ’ Ğ–ĞĞŸĞ£ Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ²Ğ¾ÑĞµĞ¼ÑŒ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", None)
        test("ĞŸÑÑ‚ÑŒ ÑÑ‚Ğ¾ Ğ¿ÑÑ‚ÑŒ Ğ²Ğ¾ÑĞµĞ¼ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("ĞŸÑÑ‚ÑŒ ÑÑ‚Ğ¾ Ğ¿ÑÑ‚ÑŒ Ğ²Ğ¾ÑĞµĞ¼ÑŒ", None)
        test("Ğ”Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ ĞŸĞĞ¨Ğ•Ğ› ĞĞ Ğ¥Ğ£Ğ™ Ğ´Ğ²ĞµÑÑ‚Ğ¸ Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", None)
        test("Ğ¡Ñ‚Ğ¾ Ğ±Ğ»ÑĞ´ÑĞºĞ¸Ñ… Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("ĞŸÑÑ‚ÑŒ Ğ¿ÑÑ‚ÑŒ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ñ‡Ñ‚Ğ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹ Ğ³Ğ´Ğµ", None)
        test("Ğ”Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ±Ğ»Ñ Ğ´Ğ²ĞµÑÑ‚Ğ¸ Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", None)
        test("Ğ¡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ”Ğ²Ğµ Ñ‚Ñ‹ÑÑÑ‡Ğ¸ Ğ´Ğ²ĞµÑÑ‚Ğ¸ Ğ´Ğ²Ğ°Ğ´Ñ†Ğ°Ñ‚ÑŒ Ğ´Ğ²Ğ° Ñ€ÑƒĞ±Ğ»Ñ", None)
        test("ĞÑ€ÑƒĞ±Ğ»Ñ", None)
        test("1ĞÑ€ÑƒĞ±Ğ»Ñ", None)
        test("10 ĞÑ€ÑƒĞ±Ğ»Ñ", None)
        test("Ğ’Ğ»Ğ°Ğ´ ÑĞºĞ¸Ğ½ÑŒ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ¿Ğ°Ğ±Ñ€Ğ°Ñ†ĞºĞ¸", None)
        test("2 Ğ±Ğ»Ñ", None)
        test("Ğ’Ğ»Ğ°Ğ´ ÑĞºĞ¸Ğ½ÑŒ Ğ´Ğ»Ğ¾Ğ¾Ğ°Ñ€Ğ¾Ğ² Ğ¿Ğ°Ğ±Ñ€Ğ°Ñ†ĞºĞ¸", None)
        test("ĞŸĞ¸Ñ†Ğ° Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Ğ¿Ğ¸Ñ†Ğ¾Ñ‚ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("``5+5`` Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("Ğ—Ğ²Ğ¾Ğ½Ğ¸Ñ‚Ğµ Ğ¼Ğ½Ğµ Ğ½Ğ° +79936969420", None)
        test("Ñƒ Ğ¼ĞµĞ½Ñ ĞºĞ¾Ğ³Ğ´Ğ°-Ñ‚Ğ¾ Ğ² Ğ”Ğ¾Ğ´Ğ¾ Ğ±Ñ‹Ğ» Ğ¿Ğ¸Ğ½-ĞºĞ¾Ğ´ 1488, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ´Ğ¾Ğ´Ğ¾Ñ€ÑƒĞ±Ğ»Ğ¸ ÑĞ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ‚ÑŒ", None)
        test("100500 ĞºĞ³Ğ°Ğ¼", None)
        test("1488 Ñ…ÑƒÑ‘Ğ²", None)
        test("ÑÑ‚Ğ¾ Ñ‚Ñ‹ÑÑÑ‡ Ğ¼Ğ¸Ğ»Ğ»Ğ¸Ğ¾Ğ½Ğ¾Ğ² Ğ·Ğ¸Ğ¼Ğ±Ğ°Ğ±Ğ²Ğ¸Ğ¹ÑĞºĞ¸Ñ… Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("ÑÑ‚Ğ¾ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² Ñ…ÑƒĞµĞ² Ñ‚ĞµĞ±Ğµ Ğ² Ğ¿Ğ°Ğ½Ğ°Ğ¼ĞºÑƒ", None)
        test("Ğ´Ğ²Ğ° Ñ„ÑƒĞ½Ñ‚Ğ° Ğ¼ÑÑĞ°", None)
        test("100 Ñ‚", None)
        test("Ñ Ğ²Ğ°Ğ¼ Ñ€Ğ°ÑÑĞºĞ°Ğ¶Ñƒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ñ€Ğ¾ 1488, Ğ½Ğ¾ Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒ Ğ¼Ğ½Ğµ Ğ»ĞµĞ½ÑŒ, Ğ¿Ğ¾ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ğ¾Ğ¹Ñ Ğ¼ĞµÑÑĞ°Ğ´Ğ¶ ĞµĞ±Ğ°Ñ‚ÑŒ", None)
        test("50 ÑÑĞ´", None)
        test("ĞŸÑÑ‚ÑŒ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", None)
        test("Ğ¡ÑƒĞºĞ° Ğ³Ğ´Ğµ, Ñ„ÑƒĞ½Ñ‚Ñ‹ ĞµÑÑ‚ÑŒ Ğ¶Ğµ", None)
        test("100 ĞºĞ°Ğ¼Ğ½ĞµĞ¹", None)
        test("Ğ¡Ñ‚Ğ¾ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", None)
        test("Ğ¯ Ñ…Ğ¾Ñ‡Ñƒ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€ Ğ¿Ğ¾ Ñ€ÑƒĞ±Ğ»Ñ", None)
        test("Ğ¥Ğ¾Ñ‚Ñ Ğ½Ğ°Ñ…ĞµÑ€ Ğ¼Ğ½Ğµ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€)", None)
        test("ĞœĞ¾Ğ³Ñƒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ñ€ÑƒĞ±Ğ»ÑŒ Ğ¿Ğ¾ Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ñƒ", None)
        test("Ğ¡ÑƒĞºĞ¸ ÑĞºĞ¸Ğ½ÑƒĞ»Ğ¸ÑÑŒ Ğ¿Ğ¾ Ñ€ÑƒĞ±Ğ»Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ±ĞµĞ¶Ğ°Ğ»Ğ¸ÑÑŒ", None)
        test("Â¾ Ñ€ÑƒĞ±Ğ»ĞµĞ¹", None)
        test("Deployed vm nillion-cxs6v0lt in 'dosage' (took 26 min 8 sec, vm 145 out of 301 in batch, left 156 nodes", None)
        test("50 cents", "In Da Club!")
        test("0.5 USD", "In Da Club!")
        test("ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ĞºĞ°Ğº Ğ´ĞµĞ»Ğ°?", None)

    def test_inline_formatter(self):
        def test(input_text: str, expected_output: str):
            currency_list = self.parser.find_currencies(input_text)
            result = self.formatter.format_multiple_conversions(currency_list, self.rates, mode='inline')
            self.assertEqual(result, expected_output)

        # Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ inline Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ°
        test("100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡ªğŸ‡º 100 â‚¬, ğŸ‡¬ğŸ‡§ Â£100, ğŸ‡¯ğŸ‡µ Â¥100, ğŸ‡¦ğŸ‡² 100 Ö)")
        test("100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ²", "100 Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² (45.4 ĞºĞ³) (ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡ºğŸ‡¸ $100, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡ªğŸ‡º 100 â‚¬, ğŸ‡¯ğŸ‡µ Â¥100, ğŸ‡¦ğŸ‡² 100 Ö)")
        
        # Ğ¢ĞµÑÑ‚Ñ‹ Ğ´Ğ»Ñ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑĞ»ÑƒÑ‡Ğ°ĞµĞ²
        test("0 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "0 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 0 â‚½, ğŸ‡®ğŸ‡± 0 â‚ª, ğŸ‡ªğŸ‡º 0 â‚¬, ğŸ‡¬ğŸ‡§ Â£0, ğŸ‡¯ğŸ‡µ Â¥0, ğŸ‡¦ğŸ‡² 0 Ö)")
        test("0.5 USD", "0.5 USD (ğŸ‡·ğŸ‡º 0.5 â‚½, ğŸ‡®ğŸ‡± 0.5 â‚ª, ğŸ‡ªğŸ‡º 0.5 â‚¬, ğŸ‡¬ğŸ‡§ Â£0.5, ğŸ‡¯ğŸ‡µ Â¥0.5, ğŸ‡¦ğŸ‡² 0.5 Ö)")
        test("2000000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "2000000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 2 000 000 â‚½, ğŸ‡®ğŸ‡± 2 000 000 â‚ª, ğŸ‡ªğŸ‡º 2 000 000 â‚¬, ğŸ‡¬ğŸ‡§ Â£2 000 000, ğŸ‡¯ğŸ‡µ Â¥2 000 000, ğŸ‡¦ğŸ‡² 2 000 000 Ö)")
        
        #todo Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ñ‚ÑŒ Ñ‚ĞµÑÑ‚ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‚ĞµÑ€Ğ° Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
        #test("Ñ Ğ½Ğ°Ğ¶Ñ€Ğ°Ğ»ÑÑ Ğ½Ğ° 100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ² Ñ…Ğ»Ğ°Ğ¼Ğ¸Ğ½Ñƒ", "Ñ Ğ½Ğ°Ğ¶Ñ€Ğ°Ğ»ÑÑ Ğ½Ğ° 100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡ªğŸ‡º â‚¬100, ğŸ‡¬ğŸ‡§ Â£100, ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡¯ğŸ‡µ 100 Â¥, ğŸ‡¦ğŸ‡² 100 Ö) Ğ² Ñ…Ğ»Ğ°Ğ¼Ğ¸Ğ½Ñƒ")
        # Ğ¢ĞµÑÑ‚ Ğ´Ğ»Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ñ… Ğ²Ğ°Ğ»ÑÑ‚
        test("100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² Ğ¸ 200 ĞµĞ²Ñ€Ğ¾", 
                "100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 100 â‚½, ğŸ‡®ğŸ‡± 100 â‚ª, ğŸ‡ªğŸ‡º 100 â‚¬, ğŸ‡¬ğŸ‡§ Â£100, ğŸ‡¯ğŸ‡µ Â¥100, ğŸ‡¦ğŸ‡² 100 Ö)\n" + 
                "200 ĞµĞ²Ñ€Ğ¾ (ğŸ‡·ğŸ‡º 200 â‚½, ğŸ‡ºğŸ‡¸ $200, ğŸ‡®ğŸ‡± 200 â‚ª, ğŸ‡¬ğŸ‡§ Â£200, ğŸ‡¯ğŸ‡µ Â¥200, ğŸ‡¦ğŸ‡² 200 Ö)") 
        
        # Ğ¢ĞµÑÑ‚ Ğ´Ğ»Ñ Ñ„ÑƒĞ½Ñ‚Ğ¾Ğ² (Ñ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸ĞµĞ¹ Ğ² ĞºĞ³)
        test("1 Ñ„ÑƒĞ½Ñ‚", "1 Ñ„ÑƒĞ½Ñ‚ (0.5 ĞºĞ³) (ğŸ‡·ğŸ‡º 1 â‚½, ğŸ‡ºğŸ‡¸ $1, ğŸ‡®ğŸ‡± 1 â‚ª, ğŸ‡ªğŸ‡º 1 â‚¬, ğŸ‡¯ğŸ‡µ Â¥1, ğŸ‡¦ğŸ‡² 1 Ö)")
        
        # Ğ¢ĞµÑÑ‚ Ğ´Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ñ‡Ğ¸ÑĞµĞ»
        test("30000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "30000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 30 000 â‚½, ğŸ‡®ğŸ‡± 30 000 â‚ª, ğŸ‡ªğŸ‡º 30 000 â‚¬, ğŸ‡¬ğŸ‡§ Â£30 000, ğŸ‡¯ğŸ‡µ Â¥30 000, ğŸ‡¦ğŸ‡² 30 000 Ö)")
        test("10000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²", "10000 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (ğŸ‡·ğŸ‡º 10000 â‚½, ğŸ‡®ğŸ‡± 10000 â‚ª, ğŸ‡ªğŸ‡º 10000 â‚¬, ğŸ‡¬ğŸ‡§ Â£10000, ğŸ‡¯ğŸ‡µ Â¥10000, ğŸ‡¦ğŸ‡² 10000 Ö)")

        # Ğ¢ĞµÑÑ‚ Ğ´Ğ»Ñ Ğ´ĞµÑÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ‡Ğ¸ÑĞµĞ»
        test("12.34 ĞµĞ²Ñ€Ğ¾", "12.34 ĞµĞ²Ñ€Ğ¾ (ğŸ‡·ğŸ‡º 12.3 â‚½, ğŸ‡ºğŸ‡¸ $12.3, ğŸ‡®ğŸ‡± 12.3 â‚ª, ğŸ‡¬ğŸ‡§ Â£12.3, ğŸ‡¯ğŸ‡µ Â¥12.3, ğŸ‡¦ğŸ‡² 12.3 Ö)")
        
        # Ğ¢ĞµÑÑ‚ Ğ´Ğ»Ñ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ñ ĞºÑƒÑ€ÑĞ¾Ğ² ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ğ¸
        def test_no_rates(self):
            currency_list = self.parser.find_currencies("100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ²")
            result = self.formatter.format_multiple_conversions(currency_list, {}, mode='inline')
            self.assertEqual(result, "100 Ğ´Ğ¾Ğ»Ğ»Ğ°Ñ€Ğ¾Ğ² (Ğ½ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… ĞºÑƒÑ€ÑĞ¾Ğ² ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ°Ñ†Ğ¸Ğ¸)")

if __name__ == '__main__':
    unittest.main() 
